/* Base styles */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import "@flaticon/flaticon-uicons/css/all/all.css";
@import 'tailwindcss';
@import "./notif.css";

@custom-variant dark (&:where(.dark, .dark *));

:root {
    --primary: var(--color-blue-500);
    --primary-hover: var(--color-blue-600);
    --primary-light: var(--color-white);
    --secondary: var(--color-gray-100);
    --secondary-hover: var(--color-gray-200);
    --text: var(--color-black);
    --text-light: #6b7280;
    --text-lighter: #9ca3af;
    --bg: #f9fafb;
    --bg-reactions: #f0f0f0;
    --bg-reactions-hover: #e0e0e0;
    --own-message: #c0c9cc;
    --other-message: #e8edef;
    --bg-panel: #ffffff;
    --border: #e5e7eb;
    --success: #10b981;
    --danger: #ef4444;
    --danger-hover: #dc2626;
    --warning: #f59e0b;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
}

.light:root {
    --primary: var(--color-blue-500);
    --primary-hover: var(--color-blue-600);
    --primary-light: var(--color-white);
    --secondary: var(--color-gray-100);
    --secondary-hover: var(--color-gray-400);
    --text: var(--color-black);
    --text-light: #6b7280;
    --text-lighter: #9ca3af;
    --bg: #f9fafb;
    --bg-reactions: #f0f0f0;
    --bg-reactions-hover: #e0e0e0;
    --own-message: #c0c9cc;
    --other-message: #e8edef;
    --bg-panel: #ffffff;
    --border: #e5e7eb;
    --success: #10b981;
    --danger: #ef4444;
    --danger-hover: #dc2626;
    --warning: #f59e0b;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background-color: var(--bg);
    color: var(--text);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    min-height: 100vh;
    overflow: hidden;
}

/* Typography */
h1, h2, h3, h4 {
    @apply font-bold text-black dark:text-white;
}

h1 {
    @apply text-3xl my-4;
}

h2 {
    @apply text-2xl;
}

h3 {
    @apply text-xl;
}

.text-light {
    @apply text-gray-500;
}

/* Layout */
.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
    @apply w-full max-w-7xl px-4 mx-auto;
}

/* Forms */
.form-group {
    @apply mb-4
}

.label {
    @apply block mb-2 font-medium dark:text-white
}

.input {
    @apply w-full py-2.5 px-4 placeholder:text-gray-400 flex-grow border-1 border-gray-300 dark:text-white dark:border-gray-500 rounded-sm transition-all duration-200 ease-in-out outline-none font-[inherit] text-sm;
}

.input:focus {
    @apply border-blue-500 shadow-[0_0_0_3px_shadow-blue-500]
}

.textarea {
    @apply min-h-28 max-h-64 resize-y
}

/* Buttons */
.btn {
    @apply inline-flex items-center justify-center p-2.5 px-4 rounded-sm font-medium text-[0.9375rem] cursor-pointer border-none outline-none
}

.btn-block {
    @apply w-full
}

.btn-primary {
    @apply bg-blue-500 text-white
}

.btn-primary:hover {
    @apply bg-blue-600
}

.btn-secondary {
    @apply bg-gray-200 dark:bg-gray-700 dark:text-white
}

.btn-secondary:hover {
    @apply bg-gray-300 dark:bg-gray-600
}

.btn-danger {
    @apply bg-rose-500 text-white
}

.btn-danger:hover {
    @apply bg-rose-600
}

.btn-success {
    @apply bg-lime-500 text-white
}

.btn-success:hover {
    @apply bg-lime-600
}

.btn-deny {
    @apply text-rose-500
}

.btn-deny:hover {
    @apply scale-125 duration-200 ease-in-out
}

.btn-apply {
    @apply text-lime-500
}

.btn-apply:hover {
    @apply scale-125 duration-200 ease-in-out
}

.btn-link {
    @apply bg-none rounded-none text-blue-500 underline cursor-pointer p-0
}

/* Auth pages */
.auth-container {
    @apply flex items-center justify-center min-h-screen p-8 dark:bg-gray-900
}

.auth-card {
    @apply bg-gray-100 dark:bg-gray-800 dark:text-white rounded-lg shadow-md p-8 w-full max-w-md
}

.auth-footer {
    @apply mt-[1.5rem] text-center text-sm
}

/* Chat layout */
.chat-layout {
    @apply flex min-h-screen h-screen
}


/* Main Sidebar */
.sidebar {
    @apply fixed z-[1000]
}

.sidebar-overlay {
    @apply fixed inset-0 bg-black opacity-40 backdrop-blur-sm transition-opacity duration-300
}

.sidebar-main {
    @apply relative z-[9999] flex flex-col h-screen w-xs bg-gray-100 dark:bg-gray-800 transform transition-transform duration-300 ease-in-out
}

.sidebar-header {
    @apply flex border-gray-200 dark:border-gray-500 justify-center p-4 flex-none
}
.sidebar-content {
    @apply grow
}

.sidebar-footer {
    @apply flex-none border-gray-200 p-3
}

.sidebar-btn {
    @apply w-full flex cursor-pointer items-center gap-3 p-3 dark:text-gray-100 dark:hover:bg-gray-700 hover:bg-gray-100 transition-colors
}

.sidebar-btn-container {
    @apply py-1.5 border-gray-200  w-full
}
/* Sidebar-Rooms */
.sidebar-rooms {
    @apply w-lg bg-gray-100 border-r-1 border-gray-50 flex flex-col h-screen sticky dark:bg-gray-800 dark:border-gray-900 dark:text-white;
}

.sidebar-rooms-header {
    @apply p-4;
}

.sidebar-rooms-content {
    @apply p-4 grow overflow-y-auto;
}

.sidebar-rooms-footer {
    @apply p-4 border-t-1;
}

/* Chat area */
.chat-area {
    @apply flex grow flex-col h-screen bg-gray-50 dark:bg-gray-900;
}

.chat-header {
    @apply p-2 bg-gray-100 sticky top-0 z-10 dark:bg-gray-800 dark:text-white;
}

.messages-container {
    @apply grow p-4 overflow-y-auto flex flex-col-reverse;
}

.messages-container::-webkit-scrollbar {
    @apply hidden;
}

.loading-more {
    position: sticky;
    bottom: 100%; /* так как контейнер reversed */
    z-index: 10;
    display: flex;
    flex-shrink: 0;
    justify-content: center;
    align-items: center;
    color: #666;
    font-style: italic;
    order: 1; /* оставляем как есть */
}

#messages {
    @apply w-full p-4 flex flex-col justify-end min-h-min;
}

.message-input-container {
    @apply p-4 bg-gray-100 sticky bottom-0 dark:bg-gray-800;
}

/* Messages */
.message {
    @apply flex gap-4 mb-4 animate-[fadeIn_0.3s_ease-out]
}

.MSG {
    @apply my-2 ml-3 mr-auto flex gap-2.5 relative;
}

.own-message {
    @apply justify-end flex rounded-[18px_18px_18px_4px] pt-2 px-3 bg-gray-300 dark:bg-gray-700/100 dark:text-white
}

.other-message {
    @apply flex mr-auto rounded-[18px_18px_18px_4px] pt-2 px-3 bg-gray-200 dark:bg-gray-700/30 dark:text-white
}

.message-avatar {
    @apply w-8 h-8 mt-auto rounded-[50%] bg-gray-50 text-white flex items-center justify-center font-bold shrink-[0]
}

.user-avatar {
    @apply w-10 h-10 rounded-[50%] bg-blue-300 text-white flex items-center justify-center font-bold
}

.message-content {
    @apply max-w-xl grow flex flex-col;
}

.message-header {
    @apply flex items-center gap-2 text-sm mb-1
}

.message-username {
    @apply font-bold mr-2
}

.message-time {
    @apply text-gray-500 dark:text-white opacity-[0.7] ml-auto text-xs
}

.message-text {
    @apply m-0 p-0 dark:text-white break-normal leading-[1.4]
}

.message-reactions {
    @apply flex gap-1 mb-1
}

.reaction-badge {
    @apply inline-flex items-center rounded-[12px] pt-1 px-1.5 mr-1 text-base cursor-pointer transition-all duration-200 ease-in-out
}

.reaction-badge:hover {
    @apply scale-110  bg-gray-200 dark:hover:bg-gray-800
}

/* Room list */
.room-item {
    @apply p-3 rounded-sm cursor-pointer mb-2
}

.room-item:hover {
    @apply bg-gray-100 dark:bg-gray-700
}

.room-item.active {
    @apply bg-gray-100
}

.private-chat {
    @apply inline-flex items-center pt-0.5 px-2 rounded-b-full text-xs border-2 border-rose-500/80 text-rose-500 px-2 py-0.5 font-bold rounded-full whitespace-nowrap

}

.public-chat {
    @apply inline-flex items-center pt-0.5 px-2 rounded-b-full text-xs  border-2 border-blue-500/80 text-blue-500 px-2 py-0.5 font-bold rounded-full whitespace-nowrap
}

/* Modal */
.modal {
    @apply fixed top-0 left-0 right-0 bottom-0 z-[1000] bg-gray-950/60 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300 ease-in-out;
}

.modal.active {
    @apply opacity-100 flex pointer-events-auto
}

.modal-content {
    @apply bg-gray-100 dark:bg-gray-800 rounded-[0.5rem] w-full max-w-md p-6 max-h-[90vh] overflow-y-auto shadow-[0_10px_25px_shadow-black]
}

.modal.active .modal-content {
    @apply translate-y-0
}

.modal-header {
    @apply mb-6 p-4 border-b-1 border-gray-300 dark:border-gray-500 relative
}

.modal-footer {
    @apply flex gap-2 p-4 mt-6 border-t-1 border-gray-300 dark:border-gray-500 justify-end
}

/* Radio buttons */
.radio-group {
    @apply flex flex-col gap-3 mt-2
}

.radio-item {
    @apply flex items-center gap-2 dark:text-white
}

.radio-input {
    @apply w-4 h-4 border-1 border-gray-500 rounded-[50%] cursor-pointer relative appearance-none outline-none;
}

.radio-input:checked {
    @apply border-blue-500
}

.radio-input:checked::after {
    @apply content-[''] absolute top-[0.1875rem] left-[0.1875rem] w-2 h-2 bg-blue-500 rounded-[50%]
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Scrollbars */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--bg);
}

::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
}

/* Alert messages */
.alert {
    padding: 0.75rem 1rem;
    border-radius: var(--radius-sm);
    margin-bottom: 1rem;
}

.alert-error {
    background-color: #fee2e2;
    color: var(--danger);
}

/* Loading state */
.loading {
    font-size: xxx-large;
    text-align: center;
    color: #6b7280;
    animation: spin 1s ease-in-out infinite;
}

.error {
    text-align: center;
    padding: 2rem;
    color: #ef4444;
}

.error-loading-room {
    color: var(--danger);
    display: flex;
    font-size: 20px;
    font-weight: 600;
    text-align: center;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    line-height: 1.5;
    margin: 400px auto; /* Центрирование блока */
}

.error-loading-room::before {
    font-size: 35px;
    font-weight: 700;
    color: var(--danger);
}

.nope-messages {
    color: var(--text-lighter);
    display: flex;
    font-size: 20px;
    font-weight: 600;
    text-align: center;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    line-height: 1.5;
    margin: 330px auto; /* Центрирование блока */
}

.nope-messages::before {
    font-size: 1.1em;
    font-weight: 700;
    color: var(--text-lighter);
}

/* Room actions */
#roomActions {
    transition: all 0.3s ease;
}

/* Logout button */
.logout-button {
    @apply ml-auto inline-flex items-center gap-2.5 pt-0.5 cursor-pointer rounded-b-full text-xs  border-2 border-rose-500/80 text-rose-500 px-2 py-0.5 font-bold rounded-full whitespace-nowrap
}

.logout-button:hover {
    @apply border-rose-600/80 text-rose-600
}

.logout-button:active {
    background: #f1f5f9;
    transform: translateY(1px);
}

.logout-button .fi {
    transition: transform 0.2s ease;
    @apply text-rose-500 text-sm
}

.logout-button:hover .fi {
    transform: translateX(4px);
}

.logout-button:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

.UserData {
    @apply dark:text-white grid
}

#userLink {
    @apply text-gray-400 text-xs
}

#pendingFriends {
    @apply flex flex-col gap-2
}

.friend-element {
    @apply flex items-center justify-between p-2 dark:text-white rounded-md
}

.newMessages {
    @apply text-lime-500
}

/* Message actions */
.delete-message-btn {
    background: none;
    border: none;
    font-size: medium;
    color: white;
    opacity: 0.8;
    cursor: pointer;
    padding: 2px;
    margin-left: auto;
}

.delete-message-btn:hover {
    opacity: 1;
    color: #d17a7a;
}

/* Context menus */

.context-menu-container {
    @apply absolute bg-gray-100 dark:bg-gray-900 dark:text-white border-1 flex-col border-gray-300 dark:border-gray-500 rounded-[8px] shadow-[0_4px_6px_-1px_shadow-black] z-[1000] p-3 flex max-w-screen;

}

.reactions-menu {
    @apply flex flex-wrap gap-2 p-2 border-b-1 border-gray-300 dark:border-gray-500 mb-2;
}

.reaction-option {
    @apply flex cursor-pointer items-center gap-2 bg-none text-xl border-none py-1.5 px-2 rounded-[4px] transition-all duration-200;
}

.reaction-option:hover {
    @apply bg-gray-100 dark:bg-gray-700 dark:text-white scale-125
}

.actions-menu {
    @apply gap-0.5 flex flex-col
}

.action-item {
    @apply bg-none border-none text-left py-2 px-3 cursor-pointer rounded-[4px] flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300;
}

.action-item:hover {
    @apply bg-gray-100 dark:bg-gray-700
}

.action-item i {
    @apply text-[0.9em] opacity-80
}

/* Reaction buttons */
.reaction-btn {
    transition: all 0.2s ease;
}

.reaction-btn:active {
    transform: scale(1.2);
}

/* Invite link input */
#inviteLinkInput {
    cursor: default;
}

.hidden {
    display: none;
}
